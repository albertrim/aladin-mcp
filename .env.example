# ================================================================
# 알라딘 MCP 서버 환경변수 설정 파일
# ================================================================
# 이 파일을 .env로 복사하고 실제 값으로 수정하세요
# 주의: .env 파일은 절대 Git에 커밋하지 마세요!

# ================================================================
# 🔑 알라딘 API 설정 (필수)
# ================================================================
# 알라딘 OpenAPI TTB 키 - http://blog.aladin.co.kr/openapi 에서 발급
# 형식: ttb + 사용자ID + 등록일(YYMMDD) + 숫자
TTB_KEY=your_aladin_api_key_here

# ================================================================
# 🌍 서버 환경 설정
# ================================================================
# 실행 환경: development, production, test
NODE_ENV=development

# 로그 레벨: error, warn, info, debug
LOG_LEVEL=debug

# ================================================================
# 🔧 MCP 서버 설정
# ================================================================
# MCP 서버 식별자 (Claude Desktop 설정에서 사용)
MCP_SERVER_NAME=aladin-mcp

# 서버 버전 (package.json과 동기화 권장)
MCP_SERVER_VERSION=1.0.0

# ================================================================
# 📊 API 제한 및 성능 설정
# ================================================================
# 알라딘 API 일일 호출 한도 (기본: 5000회)
ALADIN_API_DAILY_LIMIT=5000

# API 요청 타임아웃 (밀리초, 기본: 10초)
ALADIN_API_REQUEST_TIMEOUT=10000

# 동시 요청 제한 (기본: 10개)
ALADIN_API_CONCURRENT_LIMIT=10

# 재시도 최대 횟수 (기본: 3회)
ALADIN_API_MAX_RETRIES=3

# ================================================================
# 💾 캐시 설정 (성능 최적화)
# ================================================================
# 캐시 활성화 여부 (true/false)
CACHE_ENABLED=true

# 캐시 만료 시간 (초, 기본: 1시간)
CACHE_TTL=3600

# 최대 캐시 항목 수 (기본: 1000개)
CACHE_MAX_ITEMS=1000

# 메모리 캐시 크기 제한 (MB, 기본: 100MB)
CACHE_MAX_SIZE_MB=100

# ================================================================
# 📝 로그 설정
# ================================================================
# 로그 파일 경로 (상대 경로 또는 절대 경로)
LOG_FILE_PATH=./logs/aladin-mcp.log

# 로그 파일 보관 기간 (일, 기본: 7일)
LOG_MAX_FILES=7

# 로그 파일 최대 크기 (기본: 10MB)
LOG_MAX_SIZE=10m

# 콘솔 로그 활성화 여부 (true/false)
LOG_CONSOLE_ENABLED=true

# 에러 로그 별도 파일 저장 여부 (true/false)
LOG_ERROR_FILE_ENABLED=true

# ================================================================
# 🔒 보안 설정
# ================================================================
# API 키 마스킹 길이 (로그에서 표시할 문자 수)
API_KEY_MASK_LENGTH=8

# 요청 ID 생성 활성화 (추적 목적)
REQUEST_ID_ENABLED=true

# 민감 정보 로깅 방지 (true/false)
SENSITIVE_DATA_MASKING=true

# ================================================================
# 🧪 개발 및 디버그 설정
# ================================================================
# 개발 모드에서만 사용하는 설정들

# API 응답 원본 로깅 (디버그용, 개발 환경에서만)
DEBUG_LOG_API_RESPONSES=false

# 상세한 에러 정보 포함 (스택 트레이스 등)
DEBUG_DETAILED_ERRORS=false

# Mock 모드 활성화 (실제 API 호출 없이 테스트 데이터 사용)
MOCK_MODE_ENABLED=false

# 성능 메트릭 수집 활성화
PERFORMANCE_MONITORING=true

# ================================================================
# 📱 Claude Desktop 연동 설정
# ================================================================
# Claude Desktop에서 서버 식별에 사용
CLAUDE_DESKTOP_SERVER_ID=aladin-mcp

# 서버 설명 (Claude Desktop UI에 표시)
CLAUDE_DESKTOP_DESCRIPTION="알라딘 도서 검색 및 정보 조회 서버"

# ================================================================
# 🌐 네트워크 설정 (고급)
# ================================================================
# 프록시 설정 (필요한 경우에만)
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=http://proxy.company.com:8080

# 사용자 에이전트 문자열 사용자 정의
# USER_AGENT="AladinMCP/1.0.0 (Node.js)"

# DNS 타임아웃 (밀리초)
DNS_TIMEOUT=5000

# ================================================================
# 📈 모니터링 및 분석 (선택사항)
# ================================================================
# 사용량 통계 수집 활성화
USAGE_ANALYTICS_ENABLED=false

# 에러 추적 서비스 연동 (예: Sentry DSN)
# ERROR_TRACKING_DSN=

# 성능 모니터링 샘플링 비율 (0.0-1.0)
PERFORMANCE_SAMPLING_RATE=0.1

# ================================================================
# 💡 환경변수 사용 팁
# ================================================================
# 1. 개발 환경에서는 LOG_LEVEL=debug 사용
# 2. 프로덕션에서는 LOG_LEVEL=error 또는 warn 사용
# 3. CACHE_ENABLED=true로 설정하여 성능 향상
# 4. TTB_KEY는 절대 공개하지 마세요
# 5. .env 파일은 .gitignore에 포함되어 있습니다

# ================================================================
# 🔧 문제해결
# ================================================================
# Q: API 호출이 실패합니다
# A: TTB_KEY가 올바른지 확인하세요
#
# Q: 응답이 느립니다
# A: CACHE_ENABLED=true, CACHE_TTL을 늘려보세요
#
# Q: 로그가 너무 많습니다
# A: LOG_LEVEL=warn 또는 error로 변경하세요
#
# Q: 테스트 시 실제 API를 호출하고 싶지 않습니다
# A: MOCK_MODE_ENABLED=true로 설정하세요